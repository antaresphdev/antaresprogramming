.code-snippet,
pre[class^="language-"] {
  background-color: hsl(var(--bg-secondary) / 25%);
  padding: var(--space-s);
  border-radius: var(--ideal-radius);
  border: 1px solid hsl(var(--bg-secondary));
  white-space: pre;
  overflow: auto;
  scrollbar-color: hsl(var(--bg-accent) / 25%) transparent;
  transition: scrollbar-color 300ms;

  @media (prefers-color-scheme: dark) {
    background-color: hsl(var(--bg-accent) / 25%);
    border-color: hsl(var(--bg-accent));
  }

  &::-webkit-scrollbar-track {
    background-color: hsl(var(--bg-primary) / 0);
  }

  &::-webkit-scrollbar-thumb {
    background-color: hsl(var(--bg-accent) / 0);
    border-color: hsl(var(--bg-primary) / 0);
  }

  &::-webkit-scrollbar-track,
  &::-webkit-scrollbar-thumb {
    transition: background-color 300ms;
  }

  &:hover,
  &:focus-visible {
    scrollbar-color: hsl(var(--bg-accent)) transparent;

    &::-webkit-scrollbar-track {
      background-color: hsl(var(--bg-primary) / 100%);
    }

    &::-webkit-scrollbar-thumb {
      background-color: hsl(var(--bg-accent) / 100%);
      border-color: hsl(var(--bg-primary) / 1);
    }
  }

  br {
    display: block;
  }
}

.token {
  &.tag {
    color: hsl(var(--warning-900));

    .punctuation {
      color: hsl(var(--warning-900) / 50%);
    }
  }
}

.highlight-line {
  display: block;
  padding-inline: var(--space-s);
  margin-inline: calc(var(--space-s) * -1);

  &-active {
    background: linear-gradient(
      to right,
      hsl(var(--secondary-500) / 50%),
      hsl(var(--secondary-500) / 0%)
    );
  }
}
